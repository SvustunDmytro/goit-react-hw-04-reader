{"version":3,"sources":["Components/App/App.module.css","Components/Reader/Reader.module.css","Components/Reader/Publication/Publication.module.css","Components/Reader/Counter/Counter.module.css","Components/Reader/Publication/Publication.jsx","Components/Reader/Counter/Counter.jsx","Components/Reader/Controls/Controls.jsx","Components/Reader/Reader.jsx","Components/App/App.jsx","index.js","Components/Reader/Controls/Controls.module.css"],"names":["module","exports","Publication","id","text","title","key","className","styles","publication","Counter","page","length","counter","Controls","handleClick","value","controls","disabled","type","name","button","onClick","getItemFromProps","props","queryString","parse","location","search","item","Reader","state","items","publications","target","history","Redirect","push","pathname","setState","this","prevProps","reader","Component","App","path","component","to","ReactDOM","render","basename","document","getElementById"],"mappings":"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","file":"static/js/main.0d4e72dc.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__3e4B4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"reader\":\"Reader_reader__1KYue\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"publication\":\"Publication_publication__2XxGw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"counter\":\"Counter_counter__VUD0T\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Publication.module.css';\n\nconst Publication = ({ id, text, title }) => {\n  return (\n    <article key={id} className={styles.publication}>\n      <h2>{title}</h2>\n      <p>{text}</p>\n    </article>\n  );\n};\n\nPublication.propTypes = {\n  id: PropTypes.string.isRequired,\n  text: PropTypes.string.isRequired,\n  title: PropTypes.string.isRequired,\n};\n\nexport default Publication;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Counter.module.css';\n\nconst Counter = ({ page, length }) => (\n  <p className={styles.counter}>\n    {page + 1}/{length}\n  </p>\n);\n\nCounter.propTypes = {\n  page: PropTypes.number.isRequired,\n  length: PropTypes.number.isRequired,\n};\n\nexport default Counter;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Controls.module.css';\n\nconst Controls = ({ handleClick, value }) => (\n  <section className={styles.controls}>\n    <button\n      disabled={value === 0}\n      type=\"button\"\n      name=\"decrement\"\n      className={styles.button}\n      onClick={handleClick}\n    >\n      Назад\n    </button>\n    <button\n      disabled={value === 11}\n      type=\"button\"\n      name=\"increment\"\n      className={styles.button}\n      onClick={handleClick}\n    >\n      Вперед\n    </button>\n  </section>\n);\n\nControls.propTypes = {\n  handleClick: PropTypes.func.isRequired,\n  value: PropTypes.number.isRequired,\n};\n\nexport default Controls;\n","/* eslint-disable react/state-in-constructor */\nimport React, { Component } from 'react';\nimport queryString from 'query-string';\nimport PropTypes from 'prop-types';\nimport styles from './Reader.module.css';\nimport publications from '../App/publications';\nimport Publication from './Publication/Publication';\nimport Counter from './Counter/Counter';\nimport Controls from './Controls/Controls';\n\nconst getItemFromProps = props => queryString.parse(props.location.search).item;\n\nexport default class Reader extends Component {\n  state = {\n    items: publications,\n    value: 0,\n  };\n\n  componentDidMount() {\n    const { location, history } = this.props;\n    const item = getItemFromProps(this.props);\n\n    if (!item) {\n      return history.push({\n        pathname: location.pathname,\n        search: `item=1`,\n      });\n    }\n    return this.setState({\n      value: item - 1,\n    });\n  }\n\n  componentDidUpdate(prevProps) {\n    const { location, history } = this.props;\n    const { items } = this.state;\n    const item = getItemFromProps(this.props);\n\n    if (item !== getItemFromProps(prevProps) && item <= items.length) {\n      this.setState({\n        value: item - 1,\n      });\n    } else if (item > items.length) {\n      history.push({\n        pathname: location.pathname,\n        search: `item=1`,\n      });\n    }\n  }\n\n  handleClick = ({ target }) => {\n    const { history, location } = this.props;\n\n    const Redirect = () => {\n      const { value } = this.state;\n      return history.push({\n        pathname: location.pathname,\n        search: `item=${value + 1}`,\n      });\n    };\n\n    const { name } = target;\n    if (name === 'decrement') {\n      this.setState(\n        state => ({\n          value: state.value - 1,\n        }),\n        Redirect,\n      );\n    } else if (name === 'increment') {\n      this.setState(\n        state => ({\n          value: state.value + 1,\n        }),\n        Redirect,\n      );\n    }\n  };\n\n  render() {\n    const { value, items } = this.state;\n\n    return (\n      <div className={styles.reader}>\n        <Controls handleClick={this.handleClick} value={value} />\n        <Counter page={value} length={items.length} />\n        <Publication\n          id={items[value].id}\n          text={items[value].text}\n          title={items[value].title}\n        />\n      </div>\n    );\n  }\n}\n\nReader.propTypes = {\n  location: PropTypes.shape({\n    pathname: PropTypes.string.isRequired,\n  }).isRequired,\n  history: PropTypes.shape({\n    push: PropTypes.func.isRequired,\n  }).isRequired,\n};\n","import React from 'react';\nimport { Route, Switch, Redirect } from 'react-router-dom';\nimport styles from './App.module.css';\nimport Reader from '../Reader/Reader';\n\nconst App = () => (\n  <div className={styles.App}>\n    <Switch>\n      <Route path=\"/reader\" component={Reader} />\n      <Redirect to=\"/reader\" component={Reader} />\n    </Switch>\n  </div>\n);\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter, Route } from 'react-router-dom';\nimport './index.css';\nimport App from './Components/App/App';\n\nReactDOM.render(\n  <HashRouter basename=\"/\">\n    <Route component={App} />\n  </HashRouter>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"controls\":\"Controls_controls__1EKBQ\",\"button\":\"Controls_button__86yed\",\"button__active\":\"Controls_button__active__1C96K\",\"button_active\":\"Controls_button_active__2fZSt\"};"],"sourceRoot":""}